@* Components/Shared/AmenityIcon.razor *@

@if (!string.IsNullOrEmpty(IconCode) && IconMappings.ContainsKey(IconCode))
{
    @((MarkupString)GetSvgIcon())
}
else
{
    @* Fallback icon - info circle *@
    <svg class="@CssClass"
         width="@Size"
         height="@Size"
         viewBox="0 0 24 24"
         fill="none"
         stroke="currentColor"
         stroke-width="2"
         stroke-linecap="round"
         stroke-linejoin="round"
         role="img"
         aria-label="@AltText">
        <circle cx="12" cy="12" r="10" />
        <line x1="12" y1="16" x2="12" y2="12" />
        <line x1="12" y1="8" x2="12.01" y2="8" />
    </svg>
}

@code {
    [Parameter] public string? IconCode { get; set; }
    [Parameter] public string? AltText { get; set; }
    [Parameter] public string CssClass { get; set; } = "";
    [Parameter] public int Size { get; set; } = 20;

    private static readonly Dictionary<string, string> IconMappings =
        new(StringComparer.OrdinalIgnoreCase)
        {
            ["wifi"] = @"
                <path d=""M5 12.55a11 11 0 0 1 14.08 0""/>
                <path d=""M1.42 9a16 16 0 0 1 21.16 0""/>
                <path d=""M8.53 16.11a6 6 0 0 1 6.95 0""/>
                <line x1=""12"" y1=""20"" x2=""12.01"" y2=""20""/>
            ",

            ["pool"] = @"
                <path d=""M2 20c.64-1.66 1.89-2 3-2s2.36.34 3 2""/>
                <path d=""M8 20c.64-1.66 1.89-2 3-2s2.36.34 3 2""/>
                <path d=""M14 20c.64-1.66 1.89-2 3-2s2.36.34 3 2""/>
                <path d=""M7 4v10""/>
                <path d=""M12 4v6""/>
                <path d=""M17 4v10""/>
                <path d=""M5 10h14""/>
            ",

            ["parking"] = @"
                <rect x=""3"" y=""3"" width=""18"" height=""18"" rx=""2""/>
                <path d=""M9 17V7h4a3 3 0 0 1 0 6H9""/>
            ",

            ["gym"] = @"
                <path d=""M6.5 6.5a2.5 2.5 0 0 1 0 5""/>
                <path d=""M17.5 6.5a2.5 2.5 0 0 0 0 5""/>
                <path d=""M4 9h2""/>
                <path d=""M18 9h2""/>
                <path d=""M6.5 9h11""/>
                <path d=""M6.5 17.5a2.5 2.5 0 0 0 0-5""/>
                <path d=""M17.5 17.5a2.5 2.5 0 0 1 0-5""/>
                <path d=""M4 15h2""/>
                <path d=""M18 15h2""/>
            ",

            ["spa"] = @"
                <path d=""M12 22c-4.97 0-9-2.582-9-7v-.088C3 12.794 4.338 11.1 6.375 10c1.949-1.052 3.101-2.99 3.225-5.3A1 1 0 0 1 10.6 4c.201.1.412.095.6 0a1 1 0 0 1 1-.7c.124 2.31 1.276 4.248 3.225 5.3C17.662 9.648 19 11.344 19 13.462V15c0 4.418-4.03 7-9 7z""/>
                <path d=""M12 22v-3""/>
            ",

            ["restaurant"] = @"
                <path d=""M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2""/>
                <path d=""M7 2v20""/>
                <path d=""M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3v7""/>
            ",

            ["bar"] = @"
                <path d=""M8 22h8""/>
                <path d=""M12 11v11""/>
                <path d=""m19 3-7 8-7-8Z""/>
            ",

            ["room_service"] = @"
                <path d=""M2 18h20""/>
                <path d=""M12 4c4.97 0 9 3.582 9 8H3c0-4.418 4.03-8 9-8z""/>
                <circle cx=""12"" cy=""4"" r=""1""/>
            ",

            ["air_conditioning"] = @"
                <rect x=""2"" y=""4"" width=""20"" height=""8"" rx=""2""/>
                <path d=""M6 16v4""/>
                <path d=""M10 16v2""/>
                <path d=""M14 16v4""/>
                <path d=""M18 16v2""/>
                <path d=""M6 8h.01""/>
            ",

            ["tv"] = @"
                <rect x=""2"" y=""4"" width=""20"" height=""14"" rx=""2""/>
                <path d=""M2 18h20""/>
                <path d=""M10 22h4""/>
            ",

            ["wheelchair"] = @"
                <circle cx=""8"" cy=""4"" r=""2""/>
                <path d=""m10 8-5 8h12""/>
                <circle cx=""17"" cy=""18"" r=""2""/>
                <path d=""M5 16h3""/>
                <path d=""M8 12v4""/>
            "
        };

    private string GetSvgIcon()
    {
        if (string.IsNullOrEmpty(IconCode) ||
            !IconMappings.TryGetValue(IconCode, out var paths))
        {
            return string.Empty;
        }

        return $@"
<svg class=""{CssClass}""
     width=""{Size}""
     height=""{Size}""
     viewBox=""0 0 24 24""
     fill=""none""
     stroke=""currentColor""
     stroke-width=""2""
     stroke-linecap=""round""
     stroke-linejoin=""round""
     role=""img""
     aria-label=""{AltText}"">
    {paths}
</svg>";
    }
}
